<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>schema.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Schema 1.0.2-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></div></li><li class="depth-2 branch"><a href="schema.coerce.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coerce</span></div></a></li><li class="depth-2 branch current"><a href="schema.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>experimental</span></div></div></li><li class="depth-3 branch"><a href="schema.experimental.abstract-map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>abstract-map</span></div></a></li><li class="depth-3 branch"><a href="schema.experimental.complete.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>complete</span></div></a></li><li class="depth-3"><a href="schema.experimental.generators.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>generators</span></div></a></li><li class="depth-2 branch"><a href="schema.macros.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>macros</span></div></a></li><li class="depth-2 branch"><a href="schema.potemkin.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>potemkin</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spec</span></div></div></li><li class="depth-3 branch"><a href="schema.spec.collection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collection</span></div></a></li><li class="depth-3 branch"><a href="schema.spec.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="schema.spec.leaf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>leaf</span></div></a></li><li class="depth-3"><a href="schema.spec.variant.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>variant</span></div></a></li><li class="depth-2 branch"><a href="schema.test.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>test</span></div></a></li><li class="depth-2"><a href="schema.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="schema.core.html#var--.3EAnythingSchema"><div class="inner"><span>-&gt;AnythingSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EBoth"><div class="inner"><span>-&gt;Both</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EConditionalSchema"><div class="inner"><span>-&gt;ConditionalSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3ECondPre"><div class="inner"><span>-&gt;CondPre</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EEither"><div class="inner"><span>-&gt;Either</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EEnumSchema"><div class="inner"><span>-&gt;EnumSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EEqSchema"><div class="inner"><span>-&gt;EqSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EFnSchema"><div class="inner"><span>-&gt;FnSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EIsa"><div class="inner"><span>-&gt;Isa</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EMapEntry"><div class="inner"><span>-&gt;MapEntry</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EMaybe"><div class="inner"><span>-&gt;Maybe</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3ENamedSchema"><div class="inner"><span>-&gt;NamedSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EOne"><div class="inner"><span>-&gt;One</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EOptionalKey"><div class="inner"><span>-&gt;OptionalKey</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EPredicate"><div class="inner"><span>-&gt;Predicate</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EProtocol"><div class="inner"><span>-&gt;Protocol</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3EQueue"><div class="inner"><span>-&gt;Queue</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3ERecord"><div class="inner"><span>-&gt;Record</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3ERecursive"><div class="inner"><span>-&gt;Recursive</span></div></a></li><li class="depth-1"><a href="schema.core.html#var--.3ERequiredKey"><div class="inner"><span>-&gt;RequiredKey</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-.3D.3E"><div class="inner"><span>=&gt;</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-.3D.3E*"><div class="inner"><span>=&gt;*</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Any"><div class="inner"><span>Any</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-as-queue"><div class="inner"><span>as-queue</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Bool"><div class="inner"><span>Bool</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-both"><div class="inner"><span>both</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-check"><div class="inner"><span>check</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-checker"><div class="inner"><span>checker</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-clj-1195-fixed.3F"><div class="inner"><span>clj-1195-fixed?</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-CLJ1195Check"><div class="inner"><span>CLJ1195Check</span></div></a></li><li class="depth-2"><a href="schema.core.html#var-dummy-method"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dummy-method</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-cond-pre"><div class="inner"><span>cond-pre</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-conditional"><div class="inner"><span>conditional</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-def"><div class="inner"><span>def</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-defmethod"><div class="inner"><span>defmethod</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-defn"><div class="inner"><span>defn</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-defrecord"><div class="inner"><span>defrecord</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-defrecord.2B"><div class="inner"><span>defrecord+</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-defschema"><div class="inner"><span>defschema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-either"><div class="inner"><span>either</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-enum"><div class="inner"><span>enum</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-eq"><div class="inner"><span>eq</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-explain-input-schema"><div class="inner"><span>explain-input-schema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-explicit-schema-key"><div class="inner"><span>explicit-schema-key</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-extend-primitive"><div class="inner"><span>extend-primitive</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-find-extra-keys-schema"><div class="inner"><span>find-extra-keys-schema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-fn"><div class="inner"><span>fn</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-fn-schema"><div class="inner"><span>fn-schema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-fn-validation.3F"><div class="inner"><span>fn-validation?</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-HasPrecondition"><div class="inner"><span>HasPrecondition</span></div></a></li><li class="depth-2"><a href="schema.core.html#var-precondition"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>precondition</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-if"><div class="inner"><span>if</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Inst"><div class="inner"><span>Inst</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-instance-precondition"><div class="inner"><span>instance-precondition</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Int"><div class="inner"><span>Int</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-isa"><div class="inner"><span>isa</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Keyword"><div class="inner"><span>Keyword</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-letfn"><div class="inner"><span>letfn</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-make-fn-schema"><div class="inner"><span>make-fn-schema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EAnythingSchema"><div class="inner"><span>map-&gt;AnythingSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EBoth"><div class="inner"><span>map-&gt;Both</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EConditionalSchema"><div class="inner"><span>map-&gt;ConditionalSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3ECondPre"><div class="inner"><span>map-&gt;CondPre</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EEither"><div class="inner"><span>map-&gt;Either</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EEnumSchema"><div class="inner"><span>map-&gt;EnumSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EEqSchema"><div class="inner"><span>map-&gt;EqSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EFnSchema"><div class="inner"><span>map-&gt;FnSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EIsa"><div class="inner"><span>map-&gt;Isa</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EMapEntry"><div class="inner"><span>map-&gt;MapEntry</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EMaybe"><div class="inner"><span>map-&gt;Maybe</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3ENamedSchema"><div class="inner"><span>map-&gt;NamedSchema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EOne"><div class="inner"><span>map-&gt;One</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EOptionalKey"><div class="inner"><span>map-&gt;OptionalKey</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EPredicate"><div class="inner"><span>map-&gt;Predicate</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EProtocol"><div class="inner"><span>map-&gt;Protocol</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3EQueue"><div class="inner"><span>map-&gt;Queue</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3ERecord"><div class="inner"><span>map-&gt;Record</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3ERecursive"><div class="inner"><span>map-&gt;Recursive</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-.3ERequiredKey"><div class="inner"><span>map-&gt;RequiredKey</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-map-entry"><div class="inner"><span>map-entry</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-maybe"><div class="inner"><span>maybe</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-named"><div class="inner"><span>named</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Num"><div class="inner"><span>Num</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-one"><div class="inner"><span>one</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-optional"><div class="inner"><span>optional</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-optional-key"><div class="inner"><span>optional-key</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-optional-key.3F"><div class="inner"><span>optional-key?</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-pair"><div class="inner"><span>pair</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-parse-sequence-schema"><div class="inner"><span>parse-sequence-schema</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-pred"><div class="inner"><span>pred</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-protocol"><div class="inner"><span>protocol</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-protocol-name"><div class="inner"><span>protocol-name</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-queue"><div class="inner"><span>queue</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-queue.3F"><div class="inner"><span>queue?</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-record"><div class="inner"><span>record</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-record*"><div class="inner"><span>record*</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-recursive"><div class="inner"><span>recursive</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Regex"><div class="inner"><span>Regex</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-required-key"><div class="inner"><span>required-key</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-required-key.3F"><div class="inner"><span>required-key?</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Schema"><div class="inner"><span>Schema</span></div></a></li><li class="depth-2 branch"><a href="schema.core.html#var-explain"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>explain</span></div></a></li><li class="depth-2"><a href="schema.core.html#var-spec"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spec</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-schema-name"><div class="inner"><span>schema-name</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-schema-ns"><div class="inner"><span>schema-ns</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-schema-with-name"><div class="inner"><span>schema-with-name</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-schematize-fn"><div class="inner"><span>schematize-fn</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-set-compile-fn-validation.21"><div class="inner"><span>set-compile-fn-validation!</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-set-fn-validation.21"><div class="inner"><span>set-fn-validation!</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-set-max-value-length.21"><div class="inner"><span>set-max-value-length!</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-specific-key.3F"><div class="inner"><span>specific-key?</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Str"><div class="inner"><span>Str</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Symbol"><div class="inner"><span>Symbol</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-Uuid"><div class="inner"><span>Uuid</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-validate"><div class="inner"><span>validate</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-validator"><div class="inner"><span>validator</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-var-name"><div class="inner"><span>var-name</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-with-fn-validation"><div class="inner"><span>with-fn-validation</span></div></a></li><li class="depth-1"><a href="schema.core.html#var-without-fn-validation"><div class="inner"><span>without-fn-validation</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">schema.core</h2><div class="doc"><pre class="plaintext">A library for data shape definition and validation. A Schema is just Clojure data,
which can be used to document and validate Clojure functions and data.

For example,

(def FooBar {:foo Keyword :bar [Number]}) ;; a schema

(check FooBar {:foo :k :bar [1.0 2.0 3.0]})
==&gt; nil

representing successful validation, but the following all return helpful errors
describing how the provided data fails to measure up to schema FooBar&apos;s standards.

(check FooBar {:bar [1.0 2.0 3.0]})
==&gt; {:foo missing-required-key}

(check FooBar {:foo 1 :bar [1.0 2.0 3.0]})
==&gt; {:foo (not (keyword? 1))}

(check FooBar {:foo :k :bar [1.0 2.0 3.0] :baz 1})
==&gt; {:baz disallowed-key}

Schema lets you describe your leaf values using the Any, Keyword, Symbol, Number,
String, and Int definitions below, or (in Clojure) you can use arbitrary Java
classes or primitive casts to describe simple values.

From there, you can build up schemas for complex types using Clojure syntax
(map literals for maps, set literals for sets, vector literals for sequences,
with details described below), plus helpers below that provide optional values,
enumerations, arbitrary predicates, and more.

Assuming you (:require [schema.core :as s :include-macros true]),
Schema also provides macros for defining records with schematized elements
(s/defrecord), and named or anonymous functions (s/fn and s/defn) with
schematized inputs and return values.  In addition to producing better-documented
records and functions, these macros allow you to retrieve the schema associated
with the defined record or function.  Moreover, functions include optional
*validation*, which will throw an error if the inputs or outputs do not
match the provided schemas:

(s/defrecord FooBar
 [foo :- Int
  bar :- String])

(s/defn quux :- Int
 [foobar :- Foobar
  mogrifier :- Number]
 (* mogrifier (+ (:foo foobar) (Long/parseLong (:bar foobar)))))

(quux (FooBar. 10 &quot;5&quot;) 2)
==&gt; 30

(fn-schema quux)
==&gt; (=&gt; Int (record user.FooBar {:foo Int, :bar java.lang.String}) java.lang.Number)

(s/with-fn-validation (quux (FooBar. 10.2 &quot;5&quot;) 2))
==&gt; Input to quux does not match schema: [(named {:foo (not (integer? 10.2))} foobar) nil]

As you can see, the preferred syntax for providing type hints to schema&apos;s defrecord,
fn, and defn macros is to follow each element, argument, or function name with a
:- schema.  Symbols without schemas default to a schema of Any.  In Clojure,
class (e.g., clojure.lang.String) and primitive schemas (long, double) are also
propagated to tag metadata to ensure you get the type hinting and primitive
behavior you ask for.

If you don&apos;t like this style, standard Clojure-style typehints are also supported:

(fn-schema (s/fn [^String x]))
==&gt; (=&gt; Any java.lang.String)

You can directly type hint a symbol as a class, primitive, or simple
schema.

See the docstrings of defrecord, fn, and defn for more details about how
to use these macros.</pre></div><div class="public anchor" id="var--.3EAnythingSchema"><h3>-&gt;AnythingSchema</h3><div class="usage"><code>(-&gt;AnythingSchema _)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.AnythingSchema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L235">view source</a></div></div><div class="public anchor" id="var--.3EBoth"><h3>-&gt;Both</h3><div class="usage"><code>(-&gt;Both schemas)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Both.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L557">view source</a></div></div><div class="public anchor" id="var--.3EConditionalSchema"><h3>-&gt;ConditionalSchema</h3><div class="usage"><code>(-&gt;ConditionalSchema preds-and-schemas error-symbol)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.ConditionalSchema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L469">view source</a></div></div><div class="public anchor" id="var--.3ECondPre"><h3>-&gt;CondPre</h3><div class="usage"><code>(-&gt;CondPre schemas)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.CondPre.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L534">view source</a></div></div><div class="public anchor" id="var--.3EEither"><h3>-&gt;Either</h3><div class="usage"><code>(-&gt;Either schemas)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Either.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L442">view source</a></div></div><div class="public anchor" id="var--.3EEnumSchema"><h3>-&gt;EnumSchema</h3><div class="usage"><code>(-&gt;EnumSchema vs)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.EnumSchema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L278">view source</a></div></div><div class="public anchor" id="var--.3EEqSchema"><h3>-&gt;EqSchema</h3><div class="usage"><code>(-&gt;EqSchema v)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.EqSchema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L250">view source</a></div></div><div class="public anchor" id="var--.3EFnSchema"><h3>-&gt;FnSchema</h3><div class="usage"><code>(-&gt;FnSchema output-schema input-schemas)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.FnSchema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L962">view source</a></div></div><div class="public anchor" id="var--.3EIsa"><h3>-&gt;Isa</h3><div class="usage"><code>(-&gt;Isa h parent)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Isa.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L263">view source</a></div></div><div class="public anchor" id="var--.3EMapEntry"><h3>-&gt;MapEntry</h3><div class="usage"><code>(-&gt;MapEntry key-schema val-schema)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.MapEntry.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L682">view source</a></div></div><div class="public anchor" id="var--.3EMaybe"><h3>-&gt;Maybe</h3><div class="usage"><code>(-&gt;Maybe schema)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Maybe.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L409">view source</a></div></div><div class="public anchor" id="var--.3ENamedSchema"><h3>-&gt;NamedSchema</h3><div class="usage"><code>(-&gt;NamedSchema schema name)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.NamedSchema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L426">view source</a></div></div><div class="public anchor" id="var--.3EOne"><h3>-&gt;One</h3><div class="usage"><code>(-&gt;One schema optional? name)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.One.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L832">view source</a></div></div><div class="public anchor" id="var--.3EOptionalKey"><h3>-&gt;OptionalKey</h3><div class="usage"><code>(-&gt;OptionalKey k)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.OptionalKey.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L660">view source</a></div></div><div class="public anchor" id="var--.3EPredicate"><h3>-&gt;Predicate</h3><div class="usage"><code>(-&gt;Predicate p? pred-name)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Predicate.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L291">view source</a></div></div><div class="public anchor" id="var--.3EProtocol"><h3>-&gt;Protocol</h3><div class="usage"><code>(-&gt;Protocol p)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Protocol.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L318">view source</a></div></div><div class="public anchor" id="var--.3EQueue"><h3>-&gt;Queue</h3><div class="usage"><code>(-&gt;Queue schema)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Queue.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L807">view source</a></div></div><div class="public anchor" id="var--.3ERecord"><h3>-&gt;Record</h3><div class="usage"><code>(-&gt;Record klass schema)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Record.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L912">view source</a></div></div><div class="public anchor" id="var--.3ERecursive"><h3>-&gt;Recursive</h3><div class="usage"><code>(-&gt;Recursive derefable)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.Recursive.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L601">view source</a></div></div><div class="public anchor" id="var--.3ERequiredKey"><h3>-&gt;RequiredKey</h3><div class="usage"><code>(-&gt;RequiredKey k)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class schema.core.RequiredKey.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L647">view source</a></div></div><div class="public anchor" id="var-.3D.3E"><h3>=&gt;</h3><h4 class="type">macro</h4><div class="usage"><code>(=&gt; output-schema &amp; arg-schemas)</code></div><div class="doc"><pre class="plaintext">Convenience macro for defining function schemas with a single arity; like =&gt;*, but
there is no vector around the argument schemas for this arity.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L999">view source</a></div></div><div class="public anchor" id="var-.3D.3E*"><h3>=&gt;*</h3><h4 class="type">macro</h4><div class="usage"><code>(=&gt;* output-schema &amp; arity-schema-specs)</code></div><div class="doc"><pre class="plaintext">Produce a function schema from an output schema and a list of arity input schema specs,
each of which is a vector of argument schemas, ending with an optional &apos;&amp; more-schema&apos;
specification where more-schema must be a sequence schema.

Currently function schemas are purely descriptive; there is no validation except for
functions defined directly by s/fn or s/defn</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L989">view source</a></div></div><div class="public anchor" id="var-Any"><h3>Any</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Any value, including nil.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L243">view source</a></div></div><div class="public anchor" id="var-as-queue"><h3>as-queue</h3><div class="usage"><code>(as-queue col)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L800">view source</a></div></div><div class="public anchor" id="var-Bool"><h3>Bool</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Boolean true or false
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L365">view source</a></div></div><div class="public anchor" id="var-both"><h3>both</h3><h4 class="deprecated">deprecated in 1.0.0</h4><div class="usage"><code>(both &amp; schemas)</code></div><div class="doc"><pre class="plaintext">A value that must satisfy every schema in schemas.

DEPRECATED: prefer &apos;conditional&apos; with a single condition
instead.

When used with coercion, coerces each schema in sequence.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L576">view source</a></div></div><div class="public anchor" id="var-check"><h3>check</h3><div class="usage"><code>(check schema x)</code></div><div class="doc"><pre class="plaintext">Return nil if x matches schema; otherwise, returns a value that looks like the
&apos;bad&apos; parts of x with ValidationErrors at the leaves describing the failures.

If you will be checking many datums, it is much more efficient to create
a &apos;checker&apos; once and call it on each of them.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L136">view source</a></div></div><div class="public anchor" id="var-checker"><h3>checker</h3><div class="usage"><code>(checker schema)</code></div><div class="doc"><pre class="plaintext">Compile an efficient checker for schema, which returns nil for valid values and
error descriptions otherwise.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L128">view source</a></div></div><div class="public anchor" id="var-clj-1195-fixed.3F"><h3>clj-1195-fixed?</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L90">view source</a></div></div><div class="public anchor" id="var-CLJ1195Check"><h3>CLJ1195Check</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-dummy-method"><h3>dummy-method</h3><div class="usage"><code>(dummy-method this)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L91">view source</a></div></div><div class="public anchor" id="var-cond-pre"><h3>cond-pre</h3><div class="usage"><code>(cond-pre &amp; schemas)</code></div><div class="doc"><pre class="plaintext">A replacement for `either` that constructs a conditional schema
based on the schema spec preconditions of the component schemas.

EXPERIMENTAL</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L547">view source</a></div></div><div class="public anchor" id="var-conditional"><h3>conditional</h3><div class="usage"><code>(conditional &amp; preds-and-schemas)</code></div><div class="doc"><pre class="plaintext">Define a conditional schema.  Takes args like cond,
(conditional pred1 schema1 pred2 schema2 ...),
and checks the first schema where pred is true on the value.
Unlike cond, throws if the value does not match any condition.
:else may be used as a final condition in the place of (constantly true).
More efficient than either, since only one schema must be checked.
An optional final argument can be passed, a symbol to appear in
error messages when none of the conditions match.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L488">view source</a></div></div><div class="public anchor" id="var-def"><h3>def</h3><h4 class="type">macro</h4><div class="usage"><code>(def &amp; def-args)</code></div><div class="doc"><pre class="plaintext">Like def, but takes a schema on the var name (with the same format
as the output schema of s/defn), requires an initial value, and
asserts that the initial value matches the schema on the var name
(regardless of the status of with-fn-validation).  Due to
limitations of add-watch!, cannot enforce validation of subsequent
rebindings of var.  Throws at compile-time for clj, and client-side
load-time for cljs.

Example:

(s/def foo :- long &quot;a long&quot; 2)</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1263">view source</a></div></div><div class="public anchor" id="var-defmethod"><h3>defmethod</h3><h4 class="type">macro</h4><div class="usage"><code>(defmethod multifn dispatch-val &amp; fn-tail)</code></div><div class="doc"><pre class="plaintext">Like clojure.core/defmethod, except that schema-style typehints can be given on
the argument symbols and after the dispatch-val (for the return value).

See (doc s/defn) for details.

Examples:

  (s/defmethod mymultifun :a-dispatch-value :- s/Num [x :- s/Int y :- s/Num] (* x y))

  ;; You can also use meta tags like ^:always-validate by placing them
  ;; before the multifunction name:

  (s/defmethod ^:always-validate mymultifun :a-dispatch-value [x y] (* x y))</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1230">view source</a></div></div><div class="public anchor" id="var-defn"><h3>defn</h3><h4 class="type">macro</h4><div class="usage"><code>(defn &amp; defn-args)</code></div><div class="doc"><pre class="plaintext">Like clojure.core/defn, except that schema-style typehints can be given on
the argument symbols and on the function name (for the return value).

You can call s/fn-schema on the defined function to get its schema back, or
use with-fn-validation to enable runtime checking of function inputs and
outputs.

(s/defn foo :- s/Num
 [x :- s/Int
  y :- s/Num]
 (* x y))

(s/fn-schema foo)
==&gt; (=&gt; java.lang.Number Int java.lang.Number)

(s/with-fn-validation (foo 1 2))
==&gt; 2

(s/with-fn-validation (foo 1.5 2))
==&gt; Input to foo does not match schema: [(named (not (integer? 1.5)) x) nil]

See (doc schema.core) for details of the :- syntax for arguments and return
schemas.

The overhead for checking if run-time validation should be used is very
small -- about 5% of a very small fn call.  On top of that, actual
validation costs what it costs.

You can also turn on validation unconditionally for this fn only by
putting ^:always-validate metadata on the fn name.

Gotchas and limitations:
 - The output schema always goes on the fn name, not the arg vector. This
   means that all arities must share the same output schema. Schema will
   automatically propagate primitive hints to the arg vector and class hints
   to the fn name, so that you get the behavior you expect from Clojure.
 - Schema metadata is only processed on top-level arguments.  I.e., you can
   use destructuring, but you must put schema metadata on the top-level
   arguments, not the destructured variables.

   Bad:  (s/defn foo [{:keys [x :- s/Int]}])
   Good: (s/defn foo [{:keys [x]} :- {:x s/Int}])
 - Only a specific subset of rest-arg destructuring is supported:
   - &amp; rest works as expected
   - &amp; [a b] works, with schemas for individual elements parsed out of the binding,
     or an overall schema on the vector
   - &amp; {} is not supported.
 - Unlike clojure.core/defn, a final attr-map on multi-arity functions
   is not supported.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1160">view source</a></div></div><div class="public anchor" id="var-defrecord"><h3>defrecord</h3><h4 class="type">macro</h4><div class="usage"><code>(defrecord name field-schema extra-key-schema? extra-validator-fn? &amp; opts+specs)</code></div><div class="doc"><pre class="plaintext">Define a record with a schema.

In addition to the ordinary behavior of defrecord, this macro produces a schema
for the Record, which will automatically be used when validating instances of
the Record class:

(m/defrecord FooBar
 [foo :- Int
  bar :- String])

(schema.utils/class-schema FooBar)
==&gt; (record user.FooBar {:foo Int, :bar java.lang.String})

(s/check FooBar (FooBar. 1.2 :not-a-string))
==&gt; {:foo (not (integer? 1.2)), :bar (not (instance? java.lang.String :not-a-string))}

See (doc schema.core) for details of the :- syntax for record elements.

Moreover, optional arguments extra-key-schema? and extra-validator-fn? can be
passed to augment the record schema.
 - extra-key-schema is a map schema that defines validation for additional
   key-value pairs not in the record base (the default is to not allow extra
    mappings).
 - extra-validator-fn? is an additional predicate that will be used as part
   of validating the record value.

The remaining opts+specs (i.e., protocol and interface implementations) are
passed through directly to defrecord.

Finally, this macro replaces Clojure&apos;s map-&gt;name constructor with one that is
more than an order of magnitude faster (as of Clojure 1.5), and provides a
new strict-map-&gt;name constructor that throws or drops extra keys not in the
record base.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1039">view source</a></div></div><div class="public anchor" id="var-defrecord.2B"><h3>defrecord+</h3><h4 class="type">macro</h4><div class="usage"><code>(defrecord+ name field-schema extra-key-schema? extra-validator-fn? &amp; opts+specs)</code></div><div class="doc"><pre class="plaintext">DEPRECATED -- canonical version moved to schema.potemkin
Like defrecord, but emits a record using potemkin/defrecord+.  You must provide
your own dependency on potemkin to use this.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1078">view source</a></div></div><div class="public anchor" id="var-defschema"><h3>defschema</h3><h4 class="type">macro</h4><div class="usage"><code>(defschema name form)</code><code>(defschema name docstring form)</code></div><div class="doc"><pre class="plaintext">Convenience macro to make it clear to reader that body is meant to be used as a schema.
The name of the schema is recorded in the metadata.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1024">view source</a></div></div><div class="public anchor" id="var-either"><h3>either</h3><h4 class="deprecated">deprecated in 1.0.0</h4><div class="usage"><code>(either &amp; schemas)</code></div><div class="doc"><pre class="plaintext">A value that must satisfy at least one schema in schemas.
Note that `either` does not work properly with coercion

DEPRECATED: prefer `cond-pre`

WARNING: either does not work with coercion.  It is also slow and gives
bad error messages.  Please consider using `conditional` and friends
instead; they are more efficient, provide better error messages,
and work with coercion.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L453">view source</a></div></div><div class="public anchor" id="var-enum"><h3>enum</h3><div class="usage"><code>(enum &amp; vs)</code></div><div class="doc"><pre class="plaintext">A value that must be = to some element of vs.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L283">view source</a></div></div><div class="public anchor" id="var-eq"><h3>eq</h3><div class="usage"><code>(eq v)</code></div><div class="doc"><pre class="plaintext">A value that must be (= v).
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L255">view source</a></div></div><div class="public anchor" id="var-explain-input-schema"><h3>explain-input-schema</h3><div class="usage"><code>(explain-input-schema input-schema)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L956">view source</a></div></div><div class="public anchor" id="var-explicit-schema-key"><h3>explicit-schema-key</h3><div class="usage"><code>(explicit-schema-key ks)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L671">view source</a></div></div><div class="public anchor" id="var-extend-primitive"><h3>extend-primitive</h3><h4 class="type">macro</h4><div class="usage"><code>(extend-primitive cast-sym class-sym)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L203">view source</a></div></div><div class="public anchor" id="var-find-extra-keys-schema"><h3>find-extra-keys-schema</h3><div class="usage"><code>(find-extra-keys-schema map-schema)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L703">view source</a></div></div><div class="public anchor" id="var-fn"><h3>fn</h3><h4 class="type">macro</h4><div class="usage"><code>(fn &amp; fn-args)</code></div><div class="doc"><pre class="plaintext">s/fn : s/defn :: clojure.core/fn : clojure.core/defn

See (doc s/defn) for details.

Additional gotchas and limitations:
 - Like s/defn, the output schema must go on the fn name. If you
   don&apos;t supply a name, schema will gensym one for you and attach
   the schema.
 - Unlike s/defn, the function schema is stored in metadata on the
   fn.  Clojure&apos;s implementation for metadata on fns currently
   produces a wrapper fn, which will decrease performance and
   negate the benefits of primitive type hints compared to
   clojure.core/fn.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1135">view source</a></div></div><div class="public anchor" id="var-fn-schema"><h3>fn-schema</h3><div class="usage"><code>(fn-schema f)</code></div><div class="doc"><pre class="plaintext">Produce the schema for a function defined with s/fn or s/defn.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1128">view source</a></div></div><div class="public anchor" id="var-fn-validation.3F"><h3>fn-validation?</h3><div class="usage"><code>(fn-validation?)</code></div><div class="doc"><pre class="plaintext">Get the current global schema validation setting.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1091">view source</a></div></div><div class="public anchor" id="var-HasPrecondition"><h3>HasPrecondition</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-precondition"><h3>precondition</h3><div class="usage"><code>(precondition this)</code></div><div class="doc"><pre class="plaintext">Return a predicate representing the Precondition for this schema:
the predicate returns true if the precondition is satisfied.
(See spec.core for more details)</pre></div></div></div></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L509">view source</a></div></div><div class="public anchor" id="var-if"><h3>if</h3><div class="usage"><code>(if pred if-schema else-schema)</code></div><div class="doc"><pre class="plaintext">if the predicate returns truthy, use the if-schema, otherwise use the else-schema
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L587">view source</a></div></div><div class="public anchor" id="var-Inst"><h3>Inst</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The local representation of #inst ...
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L394">view source</a></div></div><div class="public anchor" id="var-instance-precondition"><h3>instance-precondition</h3><div class="usage"><code>(instance-precondition s klass)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L168">view source</a></div></div><div class="public anchor" id="var-Int"><h3>Int</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Any integral number
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L373">view source</a></div></div><div class="public anchor" id="var-isa"><h3>isa</h3><div class="usage"><code>(isa parent)</code><code>(isa h parent)</code></div><div class="doc"><pre class="plaintext">A value that must be a child of parent.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L268">view source</a></div></div><div class="public anchor" id="var-Keyword"><h3>Keyword</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A keyword
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L377">view source</a></div></div><div class="public anchor" id="var-letfn"><h3>letfn</h3><h4 class="type">macro</h4><div class="usage"><code>(letfn fnspecs &amp; body)</code></div><div class="doc"><pre class="plaintext">s/letfn : s/fn :: clojure.core/letfn : clojure.core/fn
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1255">view source</a></div></div><div class="public anchor" id="var-make-fn-schema"><h3>make-fn-schema</h3><div class="usage"><code>(make-fn-schema output-schema input-schemas)</code></div><div class="doc"><pre class="plaintext">A function outputting a value in output schema, whose argument vector must match one of
input-schemas, each of which should be a sequence schema.
Currently function schemas are purely descriptive; they validate against any function,
regardless of actual input and output types.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L977">view source</a></div></div><div class="public anchor" id="var-map-.3EAnythingSchema"><h3>map-&gt;AnythingSchema</h3><div class="usage"><code>(map-&gt;AnythingSchema m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.AnythingSchema, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L235">view source</a></div></div><div class="public anchor" id="var-map-.3EBoth"><h3>map-&gt;Both</h3><div class="usage"><code>(map-&gt;Both m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Both, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L557">view source</a></div></div><div class="public anchor" id="var-map-.3EConditionalSchema"><h3>map-&gt;ConditionalSchema</h3><div class="usage"><code>(map-&gt;ConditionalSchema m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.ConditionalSchema, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L469">view source</a></div></div><div class="public anchor" id="var-map-.3ECondPre"><h3>map-&gt;CondPre</h3><div class="usage"><code>(map-&gt;CondPre m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.CondPre, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L534">view source</a></div></div><div class="public anchor" id="var-map-.3EEither"><h3>map-&gt;Either</h3><div class="usage"><code>(map-&gt;Either m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Either, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L442">view source</a></div></div><div class="public anchor" id="var-map-.3EEnumSchema"><h3>map-&gt;EnumSchema</h3><div class="usage"><code>(map-&gt;EnumSchema m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.EnumSchema, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L278">view source</a></div></div><div class="public anchor" id="var-map-.3EEqSchema"><h3>map-&gt;EqSchema</h3><div class="usage"><code>(map-&gt;EqSchema m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.EqSchema, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L250">view source</a></div></div><div class="public anchor" id="var-map-.3EFnSchema"><h3>map-&gt;FnSchema</h3><div class="usage"><code>(map-&gt;FnSchema m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.FnSchema, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L962">view source</a></div></div><div class="public anchor" id="var-map-.3EIsa"><h3>map-&gt;Isa</h3><div class="usage"><code>(map-&gt;Isa m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Isa, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L263">view source</a></div></div><div class="public anchor" id="var-map-.3EMapEntry"><h3>map-&gt;MapEntry</h3><div class="usage"><code>(map-&gt;MapEntry m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.MapEntry, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L682">view source</a></div></div><div class="public anchor" id="var-map-.3EMaybe"><h3>map-&gt;Maybe</h3><div class="usage"><code>(map-&gt;Maybe m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Maybe, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L409">view source</a></div></div><div class="public anchor" id="var-map-.3ENamedSchema"><h3>map-&gt;NamedSchema</h3><div class="usage"><code>(map-&gt;NamedSchema m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.NamedSchema, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L426">view source</a></div></div><div class="public anchor" id="var-map-.3EOne"><h3>map-&gt;One</h3><div class="usage"><code>(map-&gt;One m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.One, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L832">view source</a></div></div><div class="public anchor" id="var-map-.3EOptionalKey"><h3>map-&gt;OptionalKey</h3><div class="usage"><code>(map-&gt;OptionalKey m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.OptionalKey, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L660">view source</a></div></div><div class="public anchor" id="var-map-.3EPredicate"><h3>map-&gt;Predicate</h3><div class="usage"><code>(map-&gt;Predicate m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Predicate, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L291">view source</a></div></div><div class="public anchor" id="var-map-.3EProtocol"><h3>map-&gt;Protocol</h3><div class="usage"><code>(map-&gt;Protocol m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Protocol, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L318">view source</a></div></div><div class="public anchor" id="var-map-.3EQueue"><h3>map-&gt;Queue</h3><div class="usage"><code>(map-&gt;Queue m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Queue, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L807">view source</a></div></div><div class="public anchor" id="var-map-.3ERecord"><h3>map-&gt;Record</h3><div class="usage"><code>(map-&gt;Record m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Record, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L912">view source</a></div></div><div class="public anchor" id="var-map-.3ERecursive"><h3>map-&gt;Recursive</h3><div class="usage"><code>(map-&gt;Recursive m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.Recursive, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L601">view source</a></div></div><div class="public anchor" id="var-map-.3ERequiredKey"><h3>map-&gt;RequiredKey</h3><div class="usage"><code>(map-&gt;RequiredKey m__6289__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class schema.core.RequiredKey, taking a map of keywords to field values.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L647">view source</a></div></div><div class="public anchor" id="var-map-entry"><h3>map-entry</h3><div class="usage"><code>(map-entry key-schema val-schema)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L700">view source</a></div></div><div class="public anchor" id="var-maybe"><h3>maybe</h3><div class="usage"><code>(maybe schema)</code></div><div class="doc"><pre class="plaintext">A value that must either be nil or satisfy schema
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L418">view source</a></div></div><div class="public anchor" id="var-named"><h3>named</h3><div class="usage"><code>(named schema name)</code></div><div class="doc"><pre class="plaintext">A value that must satisfy schema, and has a name for documentation purposes.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L434">view source</a></div></div><div class="public anchor" id="var-Num"><h3>Num</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Any number
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L369">view source</a></div></div><div class="public anchor" id="var-one"><h3>one</h3><div class="usage"><code>(one schema name)</code></div><div class="doc"><pre class="plaintext">A single required element of a sequence (not repeated, the implicit default)
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L834">view source</a></div></div><div class="public anchor" id="var-optional"><h3>optional</h3><div class="usage"><code>(optional schema name)</code></div><div class="doc"><pre class="plaintext">A single optional element of a sequence (not repeated, the implicit default)
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L839">view source</a></div></div><div class="public anchor" id="var-optional-key"><h3>optional-key</h3><div class="usage"><code>(optional-key k)</code></div><div class="doc"><pre class="plaintext">An optional key in a map
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L662">view source</a></div></div><div class="public anchor" id="var-optional-key.3F"><h3>optional-key?</h3><div class="usage"><code>(optional-key? ks)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L667">view source</a></div></div><div class="public anchor" id="var-pair"><h3>pair</h3><div class="usage"><code>(pair first-schema first-name second-schema second-name)</code></div><div class="doc"><pre class="plaintext">A schema for a pair of schemas and their names
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L898">view source</a></div></div><div class="public anchor" id="var-parse-sequence-schema"><h3>parse-sequence-schema</h3><div class="usage"><code>(parse-sequence-schema s)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L844">view source</a></div></div><div class="public anchor" id="var-pred"><h3>pred</h3><div class="usage"><code>(pred p?)</code><code>(pred p? pred-name)</code></div><div class="doc"><pre class="plaintext">A value for which p? returns true (and does not throw).
Optional pred-name can be passed for nicer validation errors.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L301">view source</a></div></div><div class="public anchor" id="var-protocol"><h3>protocol</h3><h4 class="type">macro</h4><div class="usage"><code>(protocol p)</code></div><div class="doc"><pre class="plaintext">A value that must satsify? protocol p.

Internaly, we must make sure not to capture the value of the protocol at
schema creation time, since that&apos;s impossible in cljs and breaks later
extends in Clojure.

A macro for cljs sake, since `satisfies?` is a macro in cljs.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L329">view source</a></div></div><div class="public anchor" id="var-protocol-name"><h3>protocol-name</h3><div class="usage"><code>(protocol-name protocol)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L313">view source</a></div></div><div class="public anchor" id="var-queue"><h3>queue</h3><div class="usage"><code>(queue x)</code></div><div class="doc"><pre class="plaintext">Defines a schema satisfied by instances of clojure.lang.PersistentQueue
(clj.core/PersistentQueue in ClojureScript) whose values satisfy x.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L817">view source</a></div></div><div class="public anchor" id="var-queue.3F"><h3>queue?</h3><div class="usage"><code>(queue? x)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L794">view source</a></div></div><div class="public anchor" id="var-record"><h3>record</h3><h4 class="type">macro</h4><div class="usage"><code>(record klass schema)</code><code>(record klass schema map-constructor)</code></div><div class="doc"><pre class="plaintext">A Record instance of type klass, whose elements match map schema &apos;schema&apos;.

The final argument is the map constructor of the record type; if you do
not pass one, an attempt is made to find the corresponding function
(but this may fail in exotic circumstances).</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L931">view source</a></div></div><div class="public anchor" id="var-record*"><h3>record*</h3><div class="usage"><code>(record* klass schema map-constructor)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L926">view source</a></div></div><div class="public anchor" id="var-recursive"><h3>recursive</h3><div class="usage"><code>(recursive schema)</code></div><div class="doc"><pre class="plaintext">Support for (mutually) recursive schemas by passing a var that points to a schema,
e.g (recursive #&apos;ExampleRecursiveSchema).</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L615">view source</a></div></div><div class="public anchor" id="var-Regex"><h3>Regex</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A regular expression
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L385">view source</a></div></div><div class="public anchor" id="var-required-key"><h3>required-key</h3><div class="usage"><code>(required-key k)</code></div><div class="doc"><pre class="plaintext">A required key in a map
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L649">view source</a></div></div><div class="public anchor" id="var-required-key.3F"><h3>required-key?</h3><div class="usage"><code>(required-key? ks)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L656">view source</a></div></div><div class="public anchor" id="var-Schema"><h3>Schema</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-explain"><h3>explain</h3><div class="usage"><code>(explain this)</code></div><div class="doc"><pre class="plaintext">Expand this schema to a human-readable format suitable for pprinting,
also expanding class schematas at the leaves.  Example:

user&gt; (s/explain {:a s/Keyword :b [s/Int]} )
{:a Keyword, :b [Int]}</pre></div></div><div class="public anchor" id="var-spec"><h3>spec</h3><div class="usage"><code>(spec this)</code></div><div class="doc"><pre class="plaintext">A spec is a record of some type that expresses the structure of this schema
in a declarative and/or imperative way.  See schema.spec.* for examples.</pre></div></div></div></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L109">view source</a></div></div><div class="public anchor" id="var-schema-name"><h3>schema-name</h3><div class="usage"><code>(schema-name schema)</code></div><div class="doc"><pre class="plaintext">Returns the name of a schema attached via schema-with-name (or defschema).
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1014">view source</a></div></div><div class="public anchor" id="var-schema-ns"><h3>schema-ns</h3><div class="usage"><code>(schema-ns schema)</code></div><div class="doc"><pre class="plaintext">Returns the namespace of a schema attached via defschema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1019">view source</a></div></div><div class="public anchor" id="var-schema-with-name"><h3>schema-with-name</h3><div class="usage"><code>(schema-with-name schema name)</code></div><div class="doc"><pre class="plaintext">Records name in schema&apos;s metadata.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1009">view source</a></div></div><div class="public anchor" id="var-schematize-fn"><h3>schematize-fn</h3><div class="usage"><code>(schematize-fn f schema)</code></div><div class="doc"><pre class="plaintext">Attach the schema to fn f at runtime, extractable by fn-schema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1123">view source</a></div></div><div class="public anchor" id="var-set-compile-fn-validation.21"><h3>set-compile-fn-validation!</h3><h4 class="type">macro</h4><div class="usage"><code>(set-compile-fn-validation! on?)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1086">view source</a></div></div><div class="public anchor" id="var-set-fn-validation.21"><h3>set-fn-validation!</h3><div class="usage"><code>(set-fn-validation! on?)</code></div><div class="doc"><pre class="plaintext">Globally turn on (or off) schema validation for all s/fn and s/defn instances.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1096">view source</a></div></div><div class="public anchor" id="var-set-max-value-length.21"><h3>set-max-value-length!</h3><div class="usage"><code>(set-max-value-length! max-length)</code></div><div class="doc"><pre class="plaintext">Sets the maximum length of value to be output before it is contracted to a prettier name.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1290">view source</a></div></div><div class="public anchor" id="var-specific-key.3F"><h3>specific-key?</h3><div class="usage"><code>(specific-key? ks)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L677">view source</a></div></div><div class="public anchor" id="var-Str"><h3>Str</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Satisfied only by String.
Is (pred string?) and not js/String in cljs because of keywords.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L360">view source</a></div></div><div class="public anchor" id="var-Symbol"><h3>Symbol</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A symbol
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L381">view source</a></div></div><div class="public anchor" id="var-Uuid"><h3>Uuid</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The local representation of #uuid ...
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L398">view source</a></div></div><div class="public anchor" id="var-validate"><h3>validate</h3><div class="usage"><code>(validate schema value)</code></div><div class="doc"><pre class="plaintext">Throw an exception if value does not satisfy schema; otherwise, return value.
If you will be validating many datums, it is much more efficient to create
a &apos;validator&apos; once and call it on each of them.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L155">view source</a></div></div><div class="public anchor" id="var-validator"><h3>validator</h3><div class="usage"><code>(validator schema)</code></div><div class="doc"><pre class="plaintext">Compile an efficient validator for schema.
</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L145">view source</a></div></div><div class="public anchor" id="var-var-name"><h3>var-name</h3><div class="usage"><code>(var-name v)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L597">view source</a></div></div><div class="public anchor" id="var-with-fn-validation"><h3>with-fn-validation</h3><h4 class="type">macro</h4><div class="usage"><code>(with-fn-validation &amp; body)</code></div><div class="doc"><pre class="plaintext">Execute body with input and output schema validation turned on for
all s/defn and s/fn instances globally (across all threads). After
all forms have been executed, resets function validation to its
previously set value. Not concurrency-safe.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1101">view source</a></div></div><div class="public anchor" id="var-without-fn-validation"><h3>without-fn-validation</h3><h4 class="type">macro</h4><div class="usage"><code>(without-fn-validation &amp; body)</code></div><div class="doc"><pre class="plaintext">Execute body with input and output schema validation turned off for
all s/defn and s/fn instances globally (across all threads). After
all forms have been executed, resets function validation to its
previously set value. Not concurrency-safe.</pre></div><div class="src-link"><a href="http://github.com/estsauver/schema/blob/master/src/cljx/schema/core.cljx#L1112">view source</a></div></div></div></body></html>